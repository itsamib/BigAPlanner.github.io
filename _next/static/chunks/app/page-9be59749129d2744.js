(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{41354:(e,t,a)=>{Promise.resolve().then(a.bind(a,46893))},46893:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>t3});var s=a(95155),r=a(12115),l=a(66634),n=a(74466),i=a(59434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:a,variant:r,size:n,asChild:o=!1,...c}=e,u=o?l.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(d({variant:r,size:n,className:a})),ref:t,...c})});o.displayName="Button";var c=a(18046),u=a(68718),m=a(16923),f=a(3819),x=a(36931),p=a(59099),h=a(31949),g=a(63587),j=a(87481),v=a(79737),b=a(92266),y=a(85972),N=a(92401),w=a(50657),k=a(3567),D=a(51362);function A(e){let{children:t,...a}=e;return(0,s.jsx)(D.N,{...a,children:t})}var C=a(36936),T=a(68027),S=a(76215),R=a(73158),_=a(10518),I=a(70154);let E=S.bL,z=S.l9;S.YJ,S.ZL,S.Pb;let F=S.z6;r.forwardRef((e,t)=>{let{className:a,inset:r,children:l,...n}=e;return(0,s.jsxs)(S.ZP,{ref:t,className:(0,i.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...n,children:[l,(0,s.jsx)(R.A,{className:"ml-auto"})]})}).displayName=S.ZP.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(S.G5,{ref:t,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=S.G5.displayName;let U=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...l}=e;return(0,s.jsx)(S.ZL,{children:(0,s.jsx)(S.UC,{ref:t,sideOffset:r,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});U.displayName=S.UC.displayName;let L=r.forwardRef((e,t)=>{let{className:a,inset:r,...l}=e;return(0,s.jsx)(S.q7,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...l})});L.displayName=S.q7.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,checked:l,...n}=e;return(0,s.jsxs)(S.H_,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(S.VF,{children:(0,s.jsx)(_.A,{className:"h-4 w-4"})})}),r]})}).displayName=S.H_.displayName;let M=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(S.hN,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(S.VF,{children:(0,s.jsx)(I.A,{className:"h-2 w-2 fill-current"})})}),r]})});M.displayName=S.hN.displayName;let P=r.forwardRef((e,t)=>{let{className:a,inset:r,...l}=e;return(0,s.jsx)(S.JU,{ref:t,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...l})});P.displayName=S.JU.displayName;let O=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(S.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});function H(){let{setTheme:e}=(0,D.D)();return(0,s.jsxs)(E,{children:[(0,s.jsx)(z,{asChild:!0,children:(0,s.jsxs)(o,{variant:"outline",size:"icon",children:[(0,s.jsx)(C.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(T.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,s.jsxs)(U,{align:"end",children:[(0,s.jsx)(L,{onClick:()=>e("light"),children:"Light"}),(0,s.jsx)(L,{onClick:()=>e("dark"),children:"Dark"}),(0,s.jsx)(L,{onClick:()=>e("system"),children:"System"})]})]})}O.displayName=S.wv.displayName;var V=a(99328),Y=a(389),J=a(40808),W=a(39294),q=a(77381),G=a(86438),Z=a(79556),B=a(51920),K=a(25318);let X=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Q(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,i.cn)(X({variant:a}),t),...r})}var $=a(965),ee=a(87487);function et(e){let{className:t,classNames:a,showOutsideDays:r=!0,...l}=e;return(0,s.jsx)(ee.hv,{showOutsideDays:r,className:(0,i.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)(d({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)(d({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{className:t,...a}=e;return(0,s.jsx)($.A,{className:(0,i.cn)("h-4 w-4",t),...a})},IconRight:e=>{let{className:t,...a}=e;return(0,s.jsx)(R.A,{className:(0,i.cn)("h-4 w-4",t),...a})}},...l})}et.displayName="Calendar";let ea=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});ea.displayName="Card";let es=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...r})});es.displayName="CardHeader";let er=r.forwardRef((e,t)=>{let{className:a,as:r="div",...l}=e;return(0,s.jsx)(r,{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...l})});er.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let el=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",a),...r})});el.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";var en=a(76981);let ei=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(en.bL,{ref:t,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,s.jsx)(en.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(_.A,{className:"h-4 w-4"})})})});ei.displayName=en.bL.displayName;let ed=r.forwardRef((e,t)=>{let{className:a,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...l})});ed.displayName="Input";var eo=a(98176);let ec=eo.bL,eu=eo.l9,em=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:l=4,...n}=e;return(0,s.jsx)(eo.ZL,{children:(0,s.jsx)(eo.UC,{ref:t,align:r,sideOffset:l,className:(0,i.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});em.displayName=eo.UC.displayName;var ef=a(55863);let ex=r.forwardRef((e,t)=>{let{className:a,value:r,...l}=e;return(0,s.jsx)(ef.bL,{ref:t,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...l,children:(0,s.jsx)(ef.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});ex.displayName=ef.bL.displayName;var ep=a(3561),eh=a(18763),eg=a(58875),ej=a(77223),ev=a(90221),eb=a(59119),ey=a(62177),eN=a(55594),ew=a(45821);let ek=ew.bL,eD=ew.l9,eA=ew.ZL;ew.bm;let eC=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ew.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});eC.displayName=ew.hJ.displayName;let eT=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(eA,{children:[(0,s.jsx)(eC,{}),(0,s.jsxs)(ew.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[r,(0,s.jsxs)(ew.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(K.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});eT.displayName=ew.UC.displayName;let eS=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};eS.displayName="DialogHeader";let eR=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};eR.displayName="DialogFooter";let e_=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ew.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});e_.displayName=ew.hE.displayName;let eI=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ew.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});eI.displayName=ew.VY.displayName;var eE=a(40968);let ez=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),eF=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eE.b,{ref:t,className:(0,i.cn)(ez(),a),...r})});eF.displayName=eE.b.displayName;let eU=ey.Op,eL=r.createContext({}),eM=e=>{let{...t}=e;return(0,s.jsx)(eL.Provider,{value:{name:t.name},children:(0,s.jsx)(ey.xI,{...t})})},eP=()=>{let e=r.useContext(eL),t=r.useContext(eO),{getFieldState:a,formState:s}=(0,ey.xW)(),l=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...l}},eO=r.createContext({}),eH=r.forwardRef((e,t)=>{let{className:a,...l}=e,n=r.useId();return(0,s.jsx)(eO.Provider,{value:{id:n},children:(0,s.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",a),...l})})});eH.displayName="FormItem";let eV=r.forwardRef((e,t)=>{let{className:a,...r}=e,{error:l,formItemId:n}=eP();return(0,s.jsx)(eF,{ref:t,className:(0,i.cn)(l&&"text-destructive",a),htmlFor:n,...r})});eV.displayName="FormLabel";let eY=r.forwardRef((e,t)=>{let{...a}=e,{error:r,formItemId:n,formDescriptionId:i,formMessageId:d}=eP();return(0,s.jsx)(l.DX,{ref:t,id:n,"aria-describedby":r?"".concat(i," ").concat(d):"".concat(i),"aria-invalid":!!r,...a})});eY.displayName="FormControl";let eJ=r.forwardRef((e,t)=>{let{className:a,...r}=e,{formDescriptionId:l}=eP();return(0,s.jsx)("p",{ref:t,id:l,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});eJ.displayName="FormDescription";let eW=r.forwardRef((e,t)=>{var a;let{className:r,children:l,...n}=e,{error:d,formMessageId:o}=eP(),c=d?String(null!=(a=null==d?void 0:d.message)?a:""):l;return c?(0,s.jsx)("p",{ref:t,id:o,className:(0,i.cn)("text-sm font-medium text-destructive",r),...n,children:c}):null});eW.displayName="FormMessage";var eq=a(11031);let eG=eq.bL;eq.YJ;let eZ=eq.WT,eB=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(eq.l9,{ref:t,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[r,(0,s.jsx)(eq.In,{asChild:!0,children:(0,s.jsx)(Z.A,{className:"h-4 w-4 opacity-50"})})]})});eB.displayName=eq.l9.displayName;let eK=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eq.PP,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(q.A,{className:"h-4 w-4"})})});eK.displayName=eq.PP.displayName;let eX=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eq.wn,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(Z.A,{className:"h-4 w-4"})})});eX.displayName=eq.wn.displayName;let eQ=r.forwardRef((e,t)=>{let{className:a,children:r,position:l="popper",...n}=e;return(0,s.jsx)(eq.ZL,{children:(0,s.jsxs)(eq.UC,{ref:t,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...n,children:[(0,s.jsx)(eK,{}),(0,s.jsx)(eq.LM,{className:(0,i.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(eX,{})]})})});eQ.displayName=eq.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eq.JU,{ref:t,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=eq.JU.displayName;let e$=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(eq.q7,{ref:t,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(eq.VF,{children:(0,s.jsx)(_.A,{className:"h-4 w-4"})})}),(0,s.jsx)(eq.p4,{children:r})]})});e$.displayName=eq.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eq.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=eq.wv.displayName;let e0=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...r})});e0.displayName="Textarea";let e1=eN.Ik({title:eN.Yj().min(3,{message:"Title must be at least 3 characters long."}),description:eN.Yj().optional(),dueDate:eN.p6().optional(),dueTime:eN.Yj().optional(),priority:eN.k5(["low","medium","high","urgent"]),parentId:eN.Yj().optional(),completionDate:eN.p6().optional()});function e2(e){let{children:t,task:a,parentId:l,onTaskSave:n,onTaskUpdate:d,isEditing:c,open:u,onOpenChange:m}=e,[f,x]=r.useState(!1),p=void 0!==u?u:f,h=void 0!==m?m:x,g=void 0!==c?c:!!a,j={title:(null==a?void 0:a.title)||"",description:(null==a?void 0:a.description)||"",dueDate:null==a?void 0:a.dueDate,dueTime:(null==a?void 0:a.dueDate)?(0,V.GP)(a.dueDate,"HH:mm"):"",priority:(null==a?void 0:a.priority)||"medium",parentId:(null==a?void 0:a.parentId)||l,completionDate:null==a?void 0:a.completionDate},v=(0,ey.mN)({resolver:(0,ev.u)(e1),defaultValues:j});r.useEffect(()=>{p&&v.reset({title:(null==a?void 0:a.title)||"",description:(null==a?void 0:a.description)||"",dueDate:null==a?void 0:a.dueDate,dueTime:(null==a?void 0:a.dueDate)?(0,V.GP)(a.dueDate,"HH:mm"):"",priority:(null==a?void 0:a.priority)||"medium",parentId:(null==a?void 0:a.parentId)||l,completionDate:null==a?void 0:a.completionDate})},[p,a,l,v]);let b=(0,s.jsxs)(eT,{className:"sm:max-w-lg",children:[(0,s.jsxs)(eS,{children:[(0,s.jsx)(e_,{children:g?"Edit Task":l?"Add Sub-task":"Add Task"}),(0,s.jsx)(eI,{children:g?"Update the details of your existing task.":"Fill out the form to add a new task to your list."})]}),(0,s.jsx)(eU,{...v,children:(0,s.jsxs)("form",{onSubmit:v.handleSubmit(function(e){let t=e.dueDate;if(e.dueDate&&e.dueTime)try{let a=(0,Y.qg)(e.dueTime,"HH:mm",new Date),s=a.getHours(),r=a.getMinutes();t=(0,J.g)((0,W.a)(e.dueDate,s),r)}catch(e){console.error("Invalid time format",e)}let s={...e,dueDate:t,parentId:e.parentId||l};g&&a&&d?d({...a,...s}):n(s),v.reset(),h(!1)}),className:"grid gap-4 py-4",children:[(0,s.jsx)(eM,{control:v.control,name:"title",render:e=>{let{field:t}=e;return(0,s.jsxs)(eH,{children:[(0,s.jsx)(eV,{children:"Title"}),(0,s.jsx)(eY,{children:(0,s.jsx)(ed,{placeholder:"e.g., Finalize project report",...t})}),(0,s.jsx)(eW,{})]})}}),(0,s.jsx)(eM,{control:v.control,name:"description",render:e=>{let{field:t}=e;return(0,s.jsxs)(eH,{children:[(0,s.jsx)(eV,{children:"Description"}),(0,s.jsx)(eY,{children:(0,s.jsx)(e0,{placeholder:"Add more details about the task...",...t})}),(0,s.jsx)(eW,{})]})}}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsx)(eM,{control:v.control,name:"dueDate",render:e=>{let{field:t}=e;return(0,s.jsxs)(eH,{className:"flex flex-col",children:[(0,s.jsx)(eV,{children:"Due Date"}),(0,s.jsxs)(ec,{children:[(0,s.jsx)(eu,{asChild:!0,children:(0,s.jsx)(eY,{children:(0,s.jsxs)(o,{variant:"outline",type:"button",className:(0,i.cn)("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?(0,V.GP)(t.value,"PPP"):(0,s.jsx)("span",{children:"Pick a date"}),(0,s.jsx)(B.A,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),(0,s.jsxs)(em,{className:"w-auto p-0",align:"start",children:[(0,s.jsx)(et,{mode:"single",selected:t.value,onSelect:t.onChange,initialFocus:!0}),(0,s.jsx)("div",{className:"p-2 border-t border-border",children:(0,s.jsxs)(o,{variant:"ghost",size:"sm",type:"button",className:"w-full justify-center text-muted-foreground",onClick:()=>t.onChange(void 0),children:[(0,s.jsx)(K.A,{className:"mr-2 h-4 w-4"}),"Clear"]})})]})]}),(0,s.jsx)(eW,{})]})}}),(0,s.jsx)(eM,{control:v.control,name:"dueTime",render:e=>{let{field:t}=e;return(0,s.jsxs)(eH,{children:[(0,s.jsx)(eV,{children:"Due Time"}),(0,s.jsx)(eY,{children:(0,s.jsx)(ed,{type:"time",...t,disabled:!v.watch("dueDate")})}),(0,s.jsx)(eW,{})]})}})]}),(0,s.jsx)(eM,{control:v.control,name:"priority",render:e=>{let{field:t}=e;return(0,s.jsxs)(eH,{children:[(0,s.jsx)(eV,{children:"Priority"}),(0,s.jsxs)(eG,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,s.jsx)(eY,{children:(0,s.jsx)(eB,{children:(0,s.jsx)(eZ,{placeholder:"Select priority"})})}),(0,s.jsxs)(eQ,{children:[(0,s.jsx)(e$,{value:"low",children:"Low"}),(0,s.jsx)(e$,{value:"medium",children:"Medium"}),(0,s.jsx)(e$,{value:"high",children:"High"}),(0,s.jsx)(e$,{value:"urgent",children:"Urgent"})]})]}),(0,s.jsx)(eW,{})]})}}),g&&(null==a?void 0:a.completed)&&(0,s.jsx)(eM,{control:v.control,name:"completionDate",render:e=>{let{field:t}=e;return(0,s.jsxs)(eH,{className:"flex flex-col",children:[(0,s.jsx)(eV,{children:"Completion Date"}),(0,s.jsxs)(ec,{children:[(0,s.jsx)(eu,{asChild:!0,children:(0,s.jsx)(eY,{children:(0,s.jsxs)(o,{variant:"outline",type:"button",className:(0,i.cn)("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?(0,V.GP)(t.value,"PPP"):(0,s.jsx)("span",{children:"Pick a date"}),(0,s.jsx)(B.A,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),(0,s.jsxs)(em,{className:"w-auto p-0",align:"start",children:[(0,s.jsx)(et,{mode:"single",selected:t.value,onSelect:t.onChange,initialFocus:!0}),(0,s.jsx)("div",{className:"p-2 border-t border-border",children:(0,s.jsxs)(o,{variant:"ghost",size:"sm",type:"button",className:"w-full justify-center text-muted-foreground",onClick:()=>t.onChange(void 0),children:[(0,s.jsx)(K.A,{className:"mr-2 h-4 w-4"}),"Clear"]})})]})]}),(0,s.jsx)(eJ,{children:"If you need to change when a task was completed."}),(0,s.jsx)(eW,{})]})}}),(0,s.jsx)(eR,{children:(0,s.jsxs)(o,{type:"submit",children:[(0,s.jsx)(eb.A,{className:"mr-2 h-4 w-4"}),g?"Save Changes":"Save Task"]})})]})})]});return(0,s.jsxs)(ek,{open:p,onOpenChange:h,children:[t&&(0,s.jsx)(eD,{asChild:!0,children:t}),b]})}var e4=a(62278);let e5=e4.bL;e4.l9;let e8=e4.ZL,e9=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(e4.hJ,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});e9.displayName=e4.hJ.displayName;let e3=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)(e8,{children:[(0,s.jsx)(e9,{}),(0,s.jsx)(e4.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r})]})});e3.displayName=e4.UC.displayName;let e6=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};e6.displayName="AlertDialogHeader";let e7=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};e7.displayName="AlertDialogFooter";let te=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(e4.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold",a),...r})});te.displayName=e4.hE.displayName;let tt=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(e4.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});tt.displayName=e4.VY.displayName;let ta=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(e4.rc,{ref:t,className:(0,i.cn)(d(),a),...r})});ta.displayName=e4.rc.displayName;let ts=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(e4.ZD,{ref:t,className:(0,i.cn)(d({variant:"outline"}),"mt-2 sm:mt-0",a),...r})});function tr(e){let{task:t,onUpdate:a,onAddSubTasks:l,onDelete:n,onAddToCalendar:i}=e,[d,u]=r.useState(null),[m,f]=r.useState(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(E,{children:[(0,s.jsx)(z,{asChild:!0,children:(0,s.jsxs)(o,{variant:"ghost",size:"icon",className:"h-8 w-8 flex-shrink-0",children:[(0,s.jsx)(ep.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"More actions"})]})}),(0,s.jsxs)(U,{align:"end",children:[(0,s.jsxs)(L,{onSelect:()=>u("edit"),children:[(0,s.jsx)(eh.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Edit Task"})]}),(0,s.jsxs)(L,{onSelect:()=>u("subtask"),children:[(0,s.jsx)(c.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Add Sub-task"})]}),t.dueDate&&(0,s.jsxs)(L,{onSelect:()=>i(t),children:[(0,s.jsx)(eg.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Add to Calendar"})]}),(0,s.jsx)(O,{}),(0,s.jsxs)(L,{onSelect:()=>f(!0),className:"text-destructive focus:text-destructive",children:[(0,s.jsx)(ej.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Delete Task"})]})]})]}),(0,s.jsx)(e2,{onTaskSave:()=>{},onTaskUpdate:a,task:t,isEditing:!0,open:"edit"===d,onOpenChange:e=>!e&&u(null)}),(0,s.jsx)(e2,{onTaskSave:e=>{l(t.id,[e])},parentId:t.id,open:"subtask"===d,onOpenChange:e=>!e&&u(null)}),(0,s.jsx)(e5,{open:m,onOpenChange:f,children:(0,s.jsxs)(e3,{children:[(0,s.jsxs)(e6,{children:[(0,s.jsx)(te,{children:"Are you absolutely sure?"}),(0,s.jsx)(tt,{children:"This action cannot be undone. This will permanently delete the task and any associated sub-tasks."})]}),(0,s.jsxs)(e7,{children:[(0,s.jsx)(ts,{children:"Cancel"}),(0,s.jsx)(ta,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>n(t.id),children:"Continue"})]})]})})]})}ts.displayName=e4.ZD.displayName;let tl={urgent:{label:"Urgent",color:"bg-red-600 text-white hover:bg-red-600/90",icon:h.A,borderColor:"border-red-600",checkboxColor:"border-red-600"},high:{label:"High",color:"bg-accent text-accent-foreground hover:bg-accent/90",icon:q.A,borderColor:"border-accent",checkboxColor:"border-accent"},medium:{label:"Medium",color:"bg-primary text-primary-foreground hover:bg-primary/90",icon:G.A,borderColor:"border-primary",checkboxColor:"border-primary"},low:{label:"Low",color:"bg-green-100/50 text-green-800 border-green-200/50 hover:bg-green-100/80 dark:bg-green-400/50 dark:text-green-950 dark:border-green-800/50 dark:hover:bg-green-400/90",icon:Z.A,borderColor:"border-green-200/50 dark:border-green-800/50",checkboxColor:"border-green-400/50 dark:border-green-700/50"}},tn=["low","medium","high","urgent"];function ti(e){let{task:t,subtasks:a,onToggle:l,onDelete:n,onUpdate:d,onAddSubTasks:c,onAddToCalendar:u,accordionTrigger:m}=e,f=t.dueDate&&!t.completed&&(0,k.R)(new Date(t.dueDate)),{label:x,color:p,icon:h,borderColor:g}=tl[t.priority],[j,v]=r.useState(t.dueDate?(0,V.GP)(new Date(t.dueDate),"HH:mm"):""),b=a.filter(e=>e.completed).length,y=a.length>0?b/a.length*100:0,N=(0,i.f)(t.title)||t.description&&(0,i.f)(t.description),w=e=>{let a=e;if(a)try{let e=(0,Y.qg)(j,"HH:mm",new Date);a=(0,J.g)((0,W.a)(a,e.getHours()),e.getMinutes())}catch(e){console.error("Invalid time format, using date only")}d({...t,dueDate:a})},D=f?"bg-destructive/10 dark:bg-destructive/20":t.completed?"bg-muted/50":"bg-card";return(0,s.jsx)(ea,{className:(0,i.cn)("transition-all hover:shadow-md border-l-4 w-full rounded-lg relative",g,D,f&&"animate-pulse ring-2 ring-destructive/50"),children:(0,s.jsxs)(el,{className:"p-3 sm:p-4 flex items-start gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center pt-1",children:[m,(0,s.jsx)(ei,{id:"task-".concat(t.id),checked:t.completed,onCheckedChange:()=>l(t.id),className:(0,i.cn)("mt-0"),"aria-label":"Mark task ".concat(t.title," as ").concat(t.completed?"incomplete":"complete")})]}),(0,s.jsxs)("div",{className:"grid gap-1.5 flex-1",children:[(0,s.jsx)("label",{htmlFor:"task-".concat(t.id),className:(0,i.cn)("font-semibold cursor-pointer",t.completed&&"line-through text-muted-foreground",N&&"font-persian"),children:t.title}),t.description&&(0,s.jsx)("p",{className:(0,i.cn)("text-sm text-muted-foreground",t.completed&&"line-through",N&&"font-persian"),children:t.description}),a.length>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)(ex,{value:y,className:"h-2 w-24"}),(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:[b,"/",a.length]})]}),(0,s.jsxs)("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-2 text-sm text-muted-foreground mt-2",children:[t.dueDate&&(0,s.jsxs)(ec,{children:[(0,s.jsx)(eu,{asChild:!0,children:(0,s.jsxs)(o,{variant:"ghost",type:"button",className:(0,i.cn)("flex items-center gap-1 -mx-2 -my-1 h-auto px-2 py-1 text-sm",f&&!t.completed&&"text-destructive font-semibold hover:text-destructive"),children:[(0,s.jsx)(B.A,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:["Due: ",(0,V.GP)(new Date(t.dueDate),"MMM d, yyyy p")]})]})}),(0,s.jsxs)(em,{className:"w-auto p-0",children:[(0,s.jsx)(et,{mode:"single",selected:new Date(t.dueDate),onSelect:e=>w(e),initialFocus:!0}),(0,s.jsx)("div",{className:"p-2 border-t border-border",children:(0,s.jsx)(ed,{type:"time",value:j,onChange:e=>{if(v(e.target.value),t.dueDate){let a=new Date(t.dueDate);try{let s=(0,Y.qg)(e.target.value,"HH:mm",new Date);a=(0,J.g)((0,W.a)(a,s.getHours()),s.getMinutes()),d({...t,dueDate:a})}catch(e){console.error("Invalid time format",e)}}}})}),(0,s.jsx)("div",{className:"p-2 border-t border-border",children:(0,s.jsxs)(o,{variant:"ghost",size:"sm",type:"button",className:"w-full justify-center text-muted-foreground",onClick:()=>d({...t,dueDate:void 0}),children:[(0,s.jsx)(K.A,{className:"mr-2 h-4 w-4"}),"Clear"]})})]})]}),t.completionDate&&(0,s.jsxs)("div",{className:"flex items-center gap-1 text-green-600",children:[(0,s.jsx)(_.A,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:["Completed: ",(0,V.GP)(new Date(t.completionDate),"MMM d, yyyy")]})]}),(0,s.jsxs)(E,{children:[(0,s.jsx)(z,{asChild:!0,children:(0,s.jsxs)(Q,{className:(0,i.cn)("border cursor-pointer",p),children:[(0,s.jsx)(h,{className:"h-4 w-4 mr-1"}),x]})}),(0,s.jsx)(U,{children:(0,s.jsx)(F,{value:t.priority,onValueChange:e=>{tn.includes(e)&&d({...t,priority:e})},children:tn.map(e=>{let t=tl[e];return(0,s.jsxs)(M,{value:e,className:"flex gap-2 capitalize",children:[(0,s.jsx)(t.icon,{className:"h-4 w-4"}),e]},e)})})})]})]})]}),(0,s.jsx)("div",{className:"flex items-center space-x-1",children:(0,s.jsx)(tr,{task:t,onUpdate:d,onAddSubTasks:c,onDelete:n,onAddToCalendar:u})})]})})}var td=a(77501),to=a(37250);let tc=to.bL,tu=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(to.q7,{ref:t,className:(0,i.cn)("border-b",a),...r})});tu.displayName="AccordionItem";let tm=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsx)(to.Y9,{className:"flex",children:(0,s.jsxs)(to.l9,{ref:t,className:(0,i.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...l,children:[r,(0,s.jsx)(Z.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});tm.displayName=to.l9.displayName;let tf=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsx)(to.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...l,children:(0,s.jsx)("div",{className:(0,i.cn)("pb-4 pt-0",a),children:r})})});tf.displayName=to.UC.displayName;let tx=e=>{let{tasks:t,allTasks:a,onToggleTask:r,onDeleteTask:l,onUpdateTask:n,onAddSubTasks:i,onAddToCalendar:d}=e,o=e=>a.filter(t=>t.parentId===e).sort((e,t)=>e.createdAt.getTime()-t.createdAt.getTime());return(0,s.jsx)("div",{className:"w-full grid gap-4",children:t.map(e=>{let t=o(e.id);return t.length>0?(0,s.jsx)(tc,{type:"single",collapsible:!0,className:"w-full",children:(0,s.jsxs)(tu,{value:e.id,className:"border-none",children:[(0,s.jsx)(ti,{task:e,subtasks:t,onToggle:r,onDelete:l,onUpdate:n,onAddSubTasks:i,onAddToCalendar:d,accordionTrigger:(0,s.jsx)(tm,{className:"p-0 mt-1"})}),(0,s.jsxs)(tf,{className:"pl-4 pt-2 grid gap-2 relative",children:[(0,s.jsx)("div",{className:"absolute left-2 top-0 bottom-0 w-px bg-border -translate-x-px"}),(0,s.jsx)(tx,{tasks:t,allTasks:a,onToggleTask:r,onDeleteTask:l,onUpdateTask:n,onAddSubTasks:i,onAddToCalendar:d})]})]})},e.id):(0,s.jsx)("div",{className:"flex items-start w-full",children:(0,s.jsx)(ti,{task:e,subtasks:[],onToggle:r,onDelete:l,onUpdate:n,onAddSubTasks:i,onAddToCalendar:d})},e.id)})})};function tp(e){let t=e.tasks.filter(e=>!e.parentId);return 0===e.tasks.length?(0,s.jsx)(ea,{className:"border-dashed shadow-none",children:(0,s.jsxs)(es,{className:"flex-row items-center gap-4",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(td.A,{className:"h-8 w-8 text-muted-foreground"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(er,{as:"h2",className:"text-xl",children:"No tasks here!"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Add a new task to get started or adjust your filters."})]})]})}):(0,s.jsx)(tx,{...e,tasks:t})}var th=a(9572),tg=a(21887),tj=a(60704);let tv=tj.bL,tb=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(tj.B8,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});tb.displayName=tj.B8.displayName;let ty=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(tj.l9,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});ty.displayName=tj.l9.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(tj.UC,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})}).displayName=tj.UC.displayName;let tN=[{value:"createdAt",label:"Added Date"},{value:"dueDate",label:"Due Date"},{value:"priority",label:"Priority"},{value:"completionDate",label:"Completed Date"}],tw=[{value:"all",label:"All Priorities"},{value:"urgent",label:"Urgent"},{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}];function tk(e){var t,a;let{status:r,onStatusChange:l,priority:n,onPriorityChange:i,sortOption:d,onSortChange:c}=e,u=null==(t=tN.find(e=>e.value===d))?void 0:t.label,m=null==(a=tw.find(e=>e.value===n))?void 0:a.label;return(0,s.jsx)(ea,{children:(0,s.jsxs)(el,{className:"p-4 flex flex-col sm:flex-row items-start sm:items-center gap-4 flex-wrap",children:[(0,s.jsx)("div",{className:"w-full sm:w-auto flex-grow",children:(0,s.jsx)(tv,{value:r,onValueChange:e=>l(e),children:(0,s.jsxs)(tb,{className:"grid w-full grid-cols-3 sm:w-auto",children:[(0,s.jsx)(ty,{value:"all",children:"All"}),(0,s.jsx)(ty,{value:"active",children:"Active"}),(0,s.jsx)(ty,{value:"completed",children:"Done"})]})})}),(0,s.jsxs)("div",{className:"flex w-full sm:w-auto items-center gap-2 sm:gap-4 flex-wrap",children:[(0,s.jsxs)(E,{children:[(0,s.jsx)(z,{asChild:!0,children:(0,s.jsxs)(o,{variant:"outline",className:"w-full flex-1 sm:w-[180px] justify-between",children:[m,(0,s.jsx)(th.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,s.jsxs)(U,{children:[(0,s.jsx)(P,{children:"Filter by Priority"}),(0,s.jsx)(O,{}),(0,s.jsx)(F,{value:n,onValueChange:e=>i(e),children:tw.map(e=>(0,s.jsx)(M,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)(E,{children:[(0,s.jsx)(z,{asChild:!0,children:(0,s.jsxs)(o,{variant:"outline",className:"w-full flex-1 sm:w-[180px] justify-between",children:["Sort by: ",u,(0,s.jsx)(tg.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,s.jsxs)(U,{children:[(0,s.jsx)(P,{children:"Sort Tasks By"}),(0,s.jsx)(O,{}),(0,s.jsx)(F,{value:d,onValueChange:e=>c(e),children:tN.map(e=>(0,s.jsx)(M,{value:e.value,children:e.label},e.value))})]})]})]})]})})}var tD=a(58127),tA=a(9041),tC=a(58995),tT=a(94517),tS=a(79133),tR=a(54811),t_=a(24026),tI=a(83540);let tE={light:"",dark:".dark"},tz=r.createContext(null);function tF(){let e=r.useContext(tz);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let tU=r.forwardRef((e,t)=>{let{id:a,className:l,children:n,config:d,...o}=e,c=r.useId(),u="chart-".concat(a||c.replace(/:/g,""));return(0,s.jsx)(tz.Provider,{value:{config:d},children:(0,s.jsxs)("div",{"data-chart":u,ref:t,className:(0,i.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",l),...o,children:[(0,s.jsx)(tL,{id:u,config:d}),(0,s.jsx)(tI.u,{children:n})]})})});tU.displayName="Chart";let tL=e=>{let{id:t,config:a}=e,r=Object.entries(a).filter(e=>{let[,t]=e;return t.theme||t.color});return r.length?(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(tE).map(e=>{let[a,s]=e;return"\n".concat(s," [data-chart=").concat(t,"] {\n").concat(r.map(e=>{var t;let[s,r]=e,l=(null==(t=r.theme)?void 0:t[a])||r.color;return l?"  --color-".concat(s,": ").concat(l,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null};tT.m;let tM=r.forwardRef((e,t)=>{let{active:a,payload:l,className:n,indicator:d="dot",hideLabel:o=!1,hideIndicator:c=!1,label:u,labelFormatter:m,labelClassName:f,formatter:x,color:p,nameKey:h,labelKey:g}=e,{config:j}=tF(),v=r.useMemo(()=>{var e;if(o||!(null==l?void 0:l.length))return null;let[t]=l,a="".concat(g||t.dataKey||t.name||"value"),r=tP(j,t,a),n=g||"string"!=typeof u?null==r?void 0:r.label:(null==(e=j[u])?void 0:e.label)||u;return m?(0,s.jsx)("div",{className:(0,i.cn)("font-medium",f),children:m(n,l)}):n?(0,s.jsx)("div",{className:(0,i.cn)("font-medium",f),children:n}):null},[u,m,l,o,f,j,g]);if(!a||!(null==l?void 0:l.length))return null;let b=1===l.length&&"dot"!==d;return(0,s.jsxs)("div",{ref:t,className:(0,i.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[b?null:v,(0,s.jsx)("div",{className:"grid gap-1.5",children:l.map((e,t)=>{let a="".concat(h||e.name||e.dataKey||"value"),r=tP(j,e,a),l=p||e.payload.fill||e.color;return(0,s.jsx)("div",{className:(0,i.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===d&&"items-center"),children:x&&(null==e?void 0:e.value)!==void 0&&e.name?x(e.value,e.name,e,t,e.payload):(0,s.jsxs)(s.Fragment,{children:[(null==r?void 0:r.icon)?(0,s.jsx)(r.icon,{}):!c&&(0,s.jsx)("div",{className:(0,i.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===d,"w-1":"line"===d,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===d,"my-0.5":b&&"dashed"===d}),style:{"--color-bg":l,"--color-border":l}}),(0,s.jsxs)("div",{className:(0,i.cn)("flex flex-1 justify-between leading-none",b?"items-end":"items-center"),children:[(0,s.jsxs)("div",{className:"grid gap-1.5",children:[b?v:null,(0,s.jsx)("span",{className:"text-muted-foreground",children:(null==r?void 0:r.label)||e.name})]}),e.value&&(0,s.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function tP(e,t,a){if("object"!=typeof t||null===t)return;let s="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,r=a;return a in t&&"string"==typeof t[a]?r=t[a]:s&&a in s&&"string"==typeof s[a]&&(r=s[a]),r in e?e[r]:e[a]}function tO(e){let{tasks:t}=e,{theme:a}=(0,D.D)(),l=r.useMemo(()=>{let e=t.filter(e=>e.completed).length;return[{name:"Active",value:t.length-e,fill:"hsl(var(--chart-2))"},{name:"Completed",value:e,fill:"hsl(var(--chart-1))"}]},[t]),n=r.useMemo(()=>{let e=t.reduce((e,t)=>(t.completed||(e[t.priority]=(e[t.priority]||0)+1),e),{});return[{name:"Urgent",value:e.urgent||0,fill:"hsl(var(--destructive))"},{name:"High",value:e.high||0,fill:"hsl(var(--accent))"},{name:"Medium",value:e.medium||0,fill:"hsl(var(--primary))"},{name:"Low",value:e.low||0,fill:"hsl(var(--success))"}].filter(e=>e.value>0)},[t]),i=t.length,d=t.filter(e=>e.completed).length;return(0,s.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsxs)(ea,{children:[(0,s.jsxs)(es,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(er,{className:"text-sm font-medium",children:"Total Tasks"}),(0,s.jsx)(td.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(el,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:i})})]}),(0,s.jsxs)(ea,{children:[(0,s.jsxs)(es,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(er,{className:"text-sm font-medium",children:"Completed Tasks"}),(0,s.jsx)(tD.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(el,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:d}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:i>0?"".concat(Math.round(d/i*100),"% completed"):"No tasks yet"})]})]}),(0,s.jsxs)(ea,{children:[(0,s.jsx)(es,{children:(0,s.jsxs)(er,{className:"flex items-center gap-2 text-lg",children:[(0,s.jsx)(tA.A,{className:"h-5 w-5"}),"Task Status"]})}),(0,s.jsx)(el,{className:"pb-4",children:(0,s.jsx)(tU,{config:{},className:"mx-auto aspect-square h-[160px]",children:(0,s.jsxs)(tC.r,{children:[(0,s.jsx)(tT.m,{cursor:!1,content:(0,s.jsx)(tM,{hideLabel:!0})}),(0,s.jsx)(tS.F,{data:l,dataKey:"value",nameKey:"name",innerRadius:40,strokeWidth:5,children:l.map((e,t)=>(0,s.jsx)(tR.f,{fill:e.fill,stroke:"dark"===a?"#000":"#fff"},"cell-".concat(t)))}),(0,s.jsx)(t_.s,{iconSize:10})]})})})]}),(0,s.jsxs)(ea,{children:[(0,s.jsx)(es,{children:(0,s.jsxs)(er,{className:"flex items-center gap-2 text-lg",children:[(0,s.jsx)(tA.A,{className:"h-5 w-5"}),"Active Priorities"]})}),(0,s.jsx)(el,{className:"pb-4",children:(0,s.jsx)(tU,{config:{},className:"mx-auto aspect-square h-[160px]",children:(0,s.jsxs)(tC.r,{children:[(0,s.jsx)(tT.m,{cursor:!1,content:(0,s.jsx)(tM,{hideLabel:!0})}),(0,s.jsx)(tS.F,{data:n,dataKey:"value",nameKey:"name",innerRadius:40,strokeWidth:5,children:n.map((e,t)=>(0,s.jsx)(tR.f,{fill:e.fill,stroke:"dark"===a?"#000":"#fff"},"cell-".concat(t)))}),(0,s.jsx)(t_.s,{iconSize:10})]})})})]})]})}function tH(e){return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,s.jsx)("path",{d:"M8 2v4"}),(0,s.jsx)("path",{d:"M16 2v4"}),(0,s.jsx)("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}),(0,s.jsx)("path",{d:"M3 10h18"}),(0,s.jsx)("path",{d:"m9 16 2 2 4-4"})]})}tM.displayName="ChartTooltip",t_.s,r.forwardRef((e,t)=>{let{className:a,hideIcon:r=!1,payload:l,verticalAlign:n="bottom",nameKey:d}=e,{config:o}=tF();return(null==l?void 0:l.length)?(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center justify-center gap-4","top"===n?"pb-3":"pt-3",a),children:l.map(e=>{let t="".concat(d||e.dataKey||"value"),a=tP(o,e,t);return(0,s.jsxs)("div",{className:(0,i.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==a?void 0:a.icon)&&!r?(0,s.jsx)(a.icon,{}):(0,s.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==a?void 0:a.label]},e.value)})}):null}).displayName="ChartLegend";var tV=a(87489);let tY=r.forwardRef((e,t)=>{let{className:a,orientation:r="horizontal",decorative:l=!0,...n}=e;return(0,s.jsx)(tV.b,{ref:t,decorative:l,orientation:r,className:(0,i.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...n})});function tJ(e){let{children:t}=e;return(0,s.jsx)("header",{className:"sticky top-0 z-10 flex h-14 items-center justify-between gap-4 border-b bg-background px-4",children:t})}tY.displayName=tV.b.displayName;let tW=ew.bL,tq=ew.l9;ew.bm;let tG=ew.ZL,tZ=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ew.hJ,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});tZ.displayName=ew.hJ.displayName;let tB=(0,n.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),tK=r.forwardRef((e,t)=>{let{side:a="right",className:r,children:l,...n}=e;return(0,s.jsxs)(tG,{children:[(0,s.jsx)(tZ,{}),(0,s.jsxs)(ew.UC,{ref:t,className:(0,i.cn)(tB({side:a}),r),...n,children:[l,(0,s.jsxs)(ew.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(K.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});tK.displayName=ew.UC.displayName;let tX=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};tX.displayName="SheetHeader";let tQ=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ew.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold text-foreground",a),...r})});tQ.displayName=ew.hE.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ew.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})}).displayName=ew.VY.displayName;var t$=a(15546),t0=a(99530);let t1=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),t2=r.forwardRef((e,t)=>{let{className:a,variant:r,...l}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(t1({variant:r}),a),...l})});t2.displayName="Alert";let t4=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",a),...r})});t4.displayName="AlertTitle";let t5=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",a),...r})});t5.displayName="AlertDescription";let t8=()=>[{id:"1",title:"Finalize Q3 marketing strategy",description:"Review and approve the final draft of the Q3 marketing plan.",dueDate:(0,b.W)(new Date,{days:3}),priority:"high",completed:!1,createdAt:(0,y.j)(new Date,{days:2})},{id:"2",title:"Develop new landing page design",description:"Create mockups and prototypes for the new homepage.",dueDate:(0,b.W)(new Date,{days:7}),priority:"urgent",completed:!1,createdAt:(0,y.j)(new Date,{days:1})},{id:"3",title:"Onboard new marketing intern",description:"Prepare onboarding materials and schedule intro meetings.",dueDate:(0,b.W)(new Date,{days:1}),priority:"medium",completed:!0,completionDate:new Date,createdAt:(0,y.j)(new Date,{days:5})},{id:"4",title:"Plan team offsite event",description:"Coordinate logistics, activities, and budget for the upcoming team offsite.",dueDate:(0,b.W)(new Date,{days:14}),priority:"medium",completed:!1,createdAt:(0,y.j)(new Date,{days:10}),parentId:"1"},{id:"5",title:"Fix login issue on mobile app",description:"Investigate and resolve the reported login bug on iOS and Android.",dueDate:(0,y.j)(new Date,{days:1}),priority:"high",completed:!1,createdAt:new Date},{id:"6",title:"Update customer support documentation",description:"Add new section for the latest feature release.",priority:"low",completed:!0,completionDate:(0,y.j)(new Date,{days:3}),createdAt:(0,y.j)(new Date,{days:8})},{id:"7",title:"Call with the legal team",description:"Discuss the new privacy policy updates.",dueDate:(0,b.W)((0,N.R)(),{hours:15}),priority:"urgent",completed:!1,createdAt:(0,y.j)(new Date,{days:1})}],t9=e=>{let{onTaskSave:t,onExport:a,onImport:r,onToggleNotifications:l,notificationsEnabled:n,notificationLeadTime:i,onLeadTimeChange:d}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(tH,{className:"h-8 w-8 text-primary"}),(0,s.jsx)("h1",{className:"text-xl font-bold tracking-tighter",children:"BigAPlanner"})]}),(0,s.jsx)(tY,{className:"my-4"}),(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)(e2,{onTaskSave:t,children:(0,s.jsxs)(o,{children:[(0,s.jsx)(c.A,{className:"mr-2"}),"Add New Task"]})}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)(o,{variant:"outline",onClick:a,children:[(0,s.jsx)(u.A,{className:"mr-2"}),"Export Tasks"]}),(0,s.jsx)(o,{variant:"outline",asChild:!0,children:(0,s.jsxs)("label",{htmlFor:"import-tasks",children:[(0,s.jsx)(m.A,{className:"mr-2"}),"Import Tasks",(0,s.jsx)("input",{type:"file",id:"import-tasks",className:"sr-only",accept:".json",onChange:r})]})})]}),"Notification"in window&&(0,s.jsxs)("div",{className:"space-y-2 rounded-lg border p-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-sm",children:"Notifications"}),(0,s.jsxs)(o,{variant:"outline",onClick:l,className:"w-full",children:[n?(0,s.jsx)(f.A,{className:"mr-2"}):(0,s.jsx)(x.A,{className:"mr-2"}),n?"Disable Alerts":"Enable Alerts"]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(eF,{htmlFor:"lead-time",className:"text-xs text-muted-foreground",children:"Remind Me Before"}),(0,s.jsxs)(eG,{value:String(i),onValueChange:d,disabled:!n,children:[(0,s.jsxs)(eB,{id:"lead-time",children:[(0,s.jsx)(p.A,{className:"mr-2"}),(0,s.jsx)(eZ,{placeholder:"Select lead time"})]}),(0,s.jsxs)(eQ,{children:[(0,s.jsx)(e$,{value:"0",children:"At time of event"}),(0,s.jsx)(e$,{value:"60000",children:"1 minute before"}),(0,s.jsx)(e$,{value:"300000",children:"5 minutes before"}),(0,s.jsx)(e$,{value:"600000",children:"10 minutes before"}),(0,s.jsx)(e$,{value:"1800000",children:"30 minutes before"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"mt-auto flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"\xa9 2025 Mehregan. All Rights Reserved."}),(0,s.jsx)(H,{})]})]})};function t3(){let[e,t]=r.useState(null),[a,l]=r.useState("active"),[n,i]=r.useState("all"),[d,u]=r.useState("createdAt"),[m,f]=r.useState(!1),{toast:x}=(0,j.d)(),p=function(){let[e,t]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(639,"px)")),a=()=>{t(window.innerWidth<640)};return e.addEventListener("change",a),t(window.innerWidth<640),()=>e.removeEventListener("change",a)},[]),e}(),[b,y]=r.useState(!1),[N,D]=r.useState(null),[C,T]=r.useState(!1),[S,R]=r.useState(new Set),_=r.useRef(null),[I,E]=r.useState(6e4),[z,F]=r.useState(null);r.useEffect(()=>{"Notification"in window&&D(Notification.permission);let e=localStorage.getItem("notificationLeadTime");e&&E(parseInt(e,10)),"true"===localStorage.getItem("notificationsEnabled")&&"granted"===Notification.permission?T(!0):T(!1),_.current=new Audio("/alarm.mp3")},[]),r.useEffect(()=>{if(z){var e;null==(e=_.current)||e.play().catch(e=>console.error("Error playing sound:",e))}},[z]),r.useEffect(()=>{let t=setInterval(()=>{if(!C||"granted"!==N||!e)return;let t=new Date,a=e.find(e=>{if(!e.dueDate||e.completed||S.has(e.id))return!1;let a=new Date(e.dueDate),s=(0,w.b)(a,t);return s>-I&&s<=I});!a||z||S.has(a.id)||(F(a),R(e=>new Set(e).add(a.id)))},1e4);return()=>clearInterval(t)},[e,C,N,S,I,z]),r.useEffect(()=>{try{let e=localStorage.getItem("tasks");if(e){let a=JSON.parse(e).map(e=>({...e,dueDate:e.dueDate?new Date(e.dueDate):void 0,completionDate:e.completionDate?new Date(e.completionDate):void 0,createdAt:e.createdAt?new Date(e.createdAt):new Date}));t(a)}else t(t8())}catch(e){console.error("Failed to parse tasks from localStorage",e),t(t8())}},[]),r.useEffect(()=>{null!==e&&localStorage.setItem("tasks",JSON.stringify(e))},[e]);let U=e=>{if(!e.dueDate)return;let t={title:e.title,description:e.description,start:[e.dueDate.getUTCFullYear(),e.dueDate.getUTCMonth()+1,e.dueDate.getUTCDate(),e.dueDate.getUTCHours(),e.dueDate.getUTCMinutes()],duration:{hours:1}};t0.lh(t,(t,a)=>{if(t){console.error(t),x({title:"Error creating calendar event",variant:"destructive"});return}let s=new Blob([a],{type:"text/calendar;charset=utf-8"}),r=URL.createObjectURL(s),l=document.createElement("a");l.href=r,l.setAttribute("download","".concat(e.title.replace(/\s+/g,"_"),".ics")),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(r)})},L=e=>{let a={...e,id:(0,v.A)(),completed:!1,createdAt:new Date};t(e=>e?[...e,a]:[a]),a.dueDate&&e.dueTime?x({title:"Task Added!",description:'"'.concat(a.title,'" has been successfully added.'),action:(0,s.jsx)(o,{variant:"outline",size:"sm",onClick:()=>U(a),children:"Add to Calendar"})}):x({title:"Task Added!",description:'"'.concat(a.title,'" has been successfully added.')}),p&&y(!1)},M=r.useMemo(()=>e?e.filter(e=>e.dueDate&&!e.completed&&(0,k.R)(new Date(e.dueDate))):[],[e]),P=r.useMemo(()=>{if(!e)return[];let t=e||[];return m?M:("all"!==a&&(t=t.filter(e=>"completed"===a?e.completed:!e.completed)),"all"!==n&&(t=t.filter(e=>e.priority===n)),t)},[e,a,n,m,M]),O=r.useMemo(()=>[...P].sort((e,t)=>{var a,s,r,l;switch(d){case"createdAt":return t.createdAt.getTime()-e.createdAt.getTime();case"dueDate":return((null==(a=e.dueDate)?void 0:a.getTime())||1/0)-((null==(s=t.dueDate)?void 0:s.getTime())||1/0);case"priority":let n={urgent:4,high:3,medium:2,low:1};return(n[t.priority]||0)-(n[e.priority]||0);case"completionDate":return((null==(r=t.completionDate)?void 0:r.getTime())||0)-((null==(l=e.completionDate)?void 0:l.getTime())||0);default:return 0}}),[P,d]);if(null===e)return null;let H=(0,s.jsx)(t9,{onTaskSave:L,onExport:()=>{if(!e)return;let t="data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(e,null,2))),a=document.createElement("a");a.href=t,a.download="bigaplanner_tasks.json",a.click(),x({title:"Export Successful",description:"Your tasks have been downloaded."})},onImport:e=>{var a;let s=null==(a=e.target.files)?void 0:a[0];if(!s)return;let r=new FileReader;r.onload=e=>{try{var a;let s=null==(a=e.target)?void 0:a.result;if("string"!=typeof s)throw Error("File is not valid text");let r=JSON.parse(s);if(Array.isArray(r)&&r.every(e=>"id"in e&&"title"in e)){let e=r.map(e=>({...e,dueDate:e.dueDate?new Date(e.dueDate):void 0,completionDate:e.completionDate?new Date(e.completionDate):void 0,createdAt:e.createdAt?new Date(e.createdAt):new Date}));t(e),x({title:"Import Successful",description:"".concat(e.length," tasks have been imported.")})}else throw Error("Invalid JSON format for tasks.")}catch(e){console.error("Failed to import tasks:",e),x({title:"Import Failed",description:"The selected file is not a valid task list.",variant:"destructive"})}},r.readAsText(s),e.target.value="",p&&y(!1)},onToggleNotifications:()=>{if(!("Notification"in window))return void x({title:"Notifications Not Supported",description:"Your browser does not support desktop notifications.",variant:"destructive"});if("denied"===N)return void x({title:"Notifications are blocked",description:"Please enable notifications for this site in your browser settings to use alerts.",variant:"destructive"});if("granted"===N){let e=!C;T(e),localStorage.setItem("notificationsEnabled",String(e)),x({title:e?"In-App Alerts Enabled":"In-App Alerts Disabled"});return}"default"===N&&Notification.requestPermission().then(e=>{D(e),"granted"===e?(T(!0),localStorage.setItem("notificationsEnabled","true"),x({title:"In-App Alerts Enabled!",description:"You'll be alerted when tasks are due."})):(T(!1),localStorage.setItem("notificationsEnabled","false"),x({title:"Alerts Disabled",description:"You won't receive alerts for due tasks.",variant:"destructive"}))})},notificationsEnabled:C,notificationLeadTime:I,onLeadTimeChange:e=>{let t=parseInt(e,10);E(t),localStorage.setItem("notificationLeadTime",String(t))}});return(0,s.jsxs)(A,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:[(0,s.jsxs)("div",{className:"flex min-h-screen w-full bg-muted/40",children:[!p&&(0,s.jsx)("aside",{className:"hidden w-64 flex-col border-r bg-background p-4 sm:flex",children:H}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col",children:[p&&(0,s.jsxs)(tJ,{children:[(0,s.jsxs)(tW,{open:b,onOpenChange:y,children:[(0,s.jsx)(tq,{asChild:!0,children:(0,s.jsxs)(o,{variant:"ghost",size:"icon",children:[(0,s.jsx)(t$.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Open Menu"})]})}),(0,s.jsxs)(tK,{side:"left",className:"flex flex-col",children:[(0,s.jsx)(tX,{children:(0,s.jsx)(tQ,{className:"sr-only",children:"Menu"})}),H]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(tH,{className:"h-6 w-6 text-primary"}),(0,s.jsx)("h1",{className:"text-lg font-semibold tracking-tighter",children:"BigAPlanner"})]}),(0,s.jsx)(e2,{onTaskSave:L,children:(0,s.jsxs)(o,{variant:"ghost",size:"icon",children:[(0,s.jsx)(c.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Add Task"})]})})]}),(0,s.jsxs)("main",{className:"flex-1 p-4 sm:p-6 lg:p-8",children:[!p&&(0,s.jsx)("div",{className:"mb-6 flex justify-between items-start",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"My Tasks"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Here is your organized task list."})]})}),M.length>0&&!m&&(0,s.jsxs)(t2,{variant:"destructive",className:"mb-6",children:[(0,s.jsx)(h.A,{className:"h-4 w-4"}),(0,s.jsxs)(t4,{children:["You have ",M.length," overdue task",M.length>1?"s":"","."]}),(0,s.jsx)(t5,{children:(0,s.jsxs)(o,{variant:"link",className:"p-0 h-auto",onClick:()=>{f(!0),l("active"),i("all")},children:[(0,s.jsx)(g.A,{className:"mr-2"})," View them now"]})})]}),(0,s.jsx)(tO,{tasks:e}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(tk,{status:a,onStatusChange:e=>{l(e),f(!1)},priority:n,onPriorityChange:e=>{i(e),f(!1)},sortOption:d,onSortChange:u})}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(tp,{tasks:O,allTasks:e,onToggleTask:e=>{t(t=>t?t.map(t=>{if(t.id===e){let e=!t.completed;return{...t,completed:e,completionDate:e?new Date:void 0}}return t}):[])},onDeleteTask:a=>{let s=null==e?void 0:e.find(e=>e.id===a);s&&(t(e=>e?e.filter(e=>e.id!==a&&e.parentId!==a):[]),x({title:"Task Deleted",description:'"'.concat(s.title,'" and its subtasks have been deleted.'),variant:"destructive"}))},onUpdateTask:e=>{t(t=>t?t.map(t=>t.id===e.id?e:t):[]),x({title:"Task Updated!",description:'"'.concat(e.title,'" has been updated.')})},onAddSubTasks:(e,a)=>{let s=a.map(t=>({...t,id:(0,v.A)(),completed:!1,createdAt:new Date,parentId:e}));t(e=>e?[...e,...s]:s)},onAddToCalendar:U})})]})]})]}),(0,s.jsx)(e5,{open:!!z,onOpenChange:e=>!e&&F(null),children:(0,s.jsxs)(e3,{children:[(0,s.jsxs)(e6,{children:[(0,s.jsxs)(te,{className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"text-destructive"}),"Task Due: ",null==z?void 0:z.title]}),(0,s.jsx)(tt,{children:(null==z?void 0:z.description)||"This task is now due."})]}),(0,s.jsx)(e7,{children:(0,s.jsx)(ta,{onClick:()=>F(null),children:"Got it"})})]})})]})}},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l,f:()=>n});var s=a(52596),r=a(39688);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}function n(e){return/[\u0600-\u06FF]/.test(e)}},87481:(e,t,a)=>{"use strict";a.d(t,{d:()=>m});var s=a(12115);let r=0,l=new Map,n=e=>{l.has(e)&&clearTimeout(l.get(e));let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},5e3);l.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=i(o,e),d.forEach(e=>{e(o)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(o);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var t=t=>e(e.s=t);e.O(0,[965,408,441,684,358],()=>t(41354)),_N_E=e.O()}]);